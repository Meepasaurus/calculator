"use strict";var Calculator=function(numberPrecision,outputTopDOM,outputBottomDOM){var precision=numberPrecision,outputTop=outputTopDOM,outputBottom=outputBottomDOM,txtTop="",txtBottom="",prettyTop="",prettyBottom="";return{printTopOutput:function(){outputTop.html(""===txtTop?"&nbsp;":"&gt;"+txtTop)},printBottomOutput:function(){outputBottom.html(""===txtBottom?"&nbsp;":txtBottom)},inputNum:function(t){"0"===txtBottom.charAt(0)&&txtBottom.indexOf(".")===-1?txtBottom=t:txtBottom+=t,this.printBottomOutput()},calculate:function(){txtTop=txtBottom,""!==txtBottom&&(txtBottom=Number(Number(eval(txtBottom).toFixed(14)).toPrecision(16)).toString()),this.printTopOutput(),this.printBottomOutput()},operate:function(t){var o=txtBottom.charAt(txtBottom.length-1);switch(t){case"+":switch(o){case"+":break;case"-":txtBottom=txtBottom.slice(0,-1)+"+";break;default:txtBottom+="+"}break;case"-":switch(o){case"-":break;case"+":txtBottom=txtBottom.slice(0,-1)+"-";break;default:txtBottom+="-"}break;case"*":switch(o){default:txtBottom+="*"}break;case"/":switch(o){default:txtBottom+="/"}}this.printTopOutput(),this.printBottomOutput()},decimal:function(){txtBottom+=".",this.printBottomOutput(txtBottom)},allClear:function(){txtTop="",txtBottom="",this.printTopOutput(txtTop),this.printBottomOutput(txtBottom)},clearEntry:function(){txtBottom="",this.printBottomOutput(txtBottom)},backspace:function(){""!==txtBottom&&(txtBottom="y"===txtBottom.charAt(txtBottom.length-1)?"":txtBottom.slice(0,-1),this.printBottomOutput(txtBottom))}}};$(document).ready(function(){var t=new Calculator(14,$("#output-top"),$("#output-bottom"));$(".num").on("click",function(){t.inputNum($(this).text())}),$(".mod").on("click",function(){var o=$(this).data("input");switch(o){case"ac":t.allClear();break;case"ce":t.clearEntry();break;case"backspace":t.backspace();break;case".":t.decimal();break;case"+":case"-":case"*":case"/":t.operate(o);break;case"=":t.calculate()}}),$(document).on("keydown",function(o){switch(o.which){case 8:return t.backspace(),!1;case 46:t.allClear()}}),$(document).on("keypress",function(t){switch(console.log("keypress "+t.which),t.which){case 8:t.preventDefault();break;case 120:case 42:$("#multiply").click();break;case 43:$("#plus").click();break;case 45:$("#minus").click();break;case 46:$("#decimal").click();break;case 47:$("#divide").click(),t.preventDefault();break;case 48:$("#zero").click();break;case 49:$("#one").click();break;case 50:$("#two").click();break;case 51:$("#three").click();break;case 52:$("#four").click();break;case 53:$("#five").click();break;case 54:$("#six").click();break;case 55:$("#seven").click();break;case 56:$("#eight").click();break;case 57:$("#nine").click();break;case 13:case 61:$("#equals").click()}})});