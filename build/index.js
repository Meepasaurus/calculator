"use strict";function decimalPlaces(t){var o=(""+t).match(/(\.(\d+))/);return o?Math.max(0,o[2]?o[2].length:0):0}var Calculator=function(outputTopDOM,outputBottomDOM){var outputTop=outputTopDOM,outputBottom=outputBottomDOM,txtTop="",txtBottom="";return{printTopOutput:function(){outputTop.html(""===txtTop?"&nbsp;":"&gt;"+txtTop)},printBottomOutput:function(){outputBottom.html(""===txtBottom?"&nbsp;":txtBottom)},inputNum:function(t){"0"===txtBottom.charAt(0)&&txtBottom.indexOf(".")===-1?txtBottom=t:txtBottom+=t,this.printBottomOutput()},calculate:function(){if("+"===txtTop.charAt(txtTop.length-1))if(""!==txtBottom){var txtTemp=txtBottom;txtBottom=eval(txtTop+txtBottom).toString(),txtTop+=txtTemp}else txtTop=txtTop.slice(0,-1),txtBottom=txtTop;else txtTop="."===txtBottom.charAt(txtBottom.length-1)?txtBottom+"0":txtBottom,txtBottom=txtTop;this.printTopOutput(),this.printBottomOutput()},operate:function(t){txtTop.charAt(txtTop.length-1)===t&&(txtTop="."===txtTop.charAt(txtTop.length-1)?txtBottom+"0+":txtBottom+t),txtBottom="",this.printTopOutput(),this.printBottomOutput()},decimal:function(){txtBottom.indexOf(".")===-1&&(""===txtBottom?txtBottom="0.":txtBottom+=".",this.printBottomOutput(txtBottom))},allClear:function(){txtTop="",txtBottom="",this.printTopOutput(txtTop),this.printBottomOutput(txtBottom)},clearEntry:function(){txtBottom="",this.printBottomOutput(txtBottom)},backspace:function(){""!==txtBottom&&(txtBottom=txtBottom.slice(0,-1),this.printBottomOutput(txtBottom))}}};$(document).ready(function(){console.log(.7+.1);var t=10*decimalPlaces(.3)*.7+10*decimalPlaces(.1)*.1;console.log(t),console.log(t/(10*decimalPlaces(.2)));var o=new Calculator($("#output-top"),$("#output-bottom"));$(".num").on("click",function(){o.inputNum($(this).text())}),$(".mod").on("click",function(){switch($(this).data("input")){case"ac":o.allClear();break;case"ce":o.clearEntry();break;case"backspace":o.backspace();break;case".":o.decimal();break;case"+":o.operate("+");break;case"=":o.calculate()}}),$(document).on("keydown",function(t){switch(t.which){case 8:return o.backspace(),!1;case 46:o.allClear()}}),$(document).on("keypress",function(t){switch(t.which){case 8:t.preventDefault();break;case 43:$("#plus").click();break;case 46:$("#decimal").click();break;case 48:$("#zero").click();break;case 49:$("#one").click();break;case 50:$("#two").click();break;case 51:$("#three").click();break;case 52:$("#four").click();break;case 53:$("#five").click();break;case 54:$("#six").click();break;case 55:$("#seven").click();break;case 56:$("#eight").click();break;case 57:$("#nine").click();break;case 13:case 61:$("#equals").click()}})});